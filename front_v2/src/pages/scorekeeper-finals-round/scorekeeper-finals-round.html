<!--
  Generated template for the ScorekeeperFinalsRoundPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>ScorekeeperFinalsRound</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>  
    <ion-card *ngFor="let match of final;index as i" [navPush]="'ScorekeeperFinalsMatchPage'" [navParams]="buildNavParams({finalId:finalId,round:round,matchId:match.finals_match_id})">
      <ion-card-header >
        <ion-item>
          <b>Round {{round}}, Match {{i+1}}</b>
          <span *ngIf='match.completed==true' >(Completed)</span>
          <ion-icon item-right name="arrow-forward"></ion-icon>
        </ion-item>
      <span *ngIf="match.current_machine"><br>Current Machine : {{match.current_machine}}</span>
      <span *ngIf="match.tiebreaker_in_progress"><br>TieBreaker In Progress</span>      
    </ion-card-header>
    <ion-card-content>
      <ion-list>                
        <ion-item no-lines *ngFor="let player_string of ['player_one','player_two','player_three','player_four']">          
          <ion-icon item-start *ngIf="match[player_string+'_winner']==true" name="trophy"></ion-icon>
          <ion-icon style='font-size:20px' center item-start *ngIf="match[player_string+'_winner']!=true">
          <span *ngIf="finalsPlayers[match[player_string+'_finals_player_id']]!=null && finalsPlayers[match[player_string+'_finals_player_id']].finishing_rank!=null">#{{finalsPlayers[match[player_string+'_finals_player_id']].finishing_rank}}</span>
          </ion-icon>
          {{match[player_string+'_name']?match[player_string+'_name']:"TBD"}} ({{match[player_string+'_points']?match[player_string+'_points']:0}} points)
        </ion-item>
      </ion-list>
    </ion-card-content>
    </ion-card>
    <div text-center padding margin >
      <button (click)="completeRound()" ion-button *ngIf="roundCompleted==true">Start Next Round</button>
    </div>
</ion-content>
