<!--resources.queues.data[division_machine_id].queues[0].player.player_name-->
<ion-view view-title="Select Player" hide-back-button="{{hide_back_button}}">
  <ion-content>
    <div class="list" >
      <div class='player-select'>
        <label class="item-input item">
          <i class="icon ion-search placeholder-icon"></i>
          <form ng-submit='test_submit()'>
            <input ng-if='queues.length == 0' ng-keydown='keyDown($event)' ng-change='onPlayerIdChange()' type="tel" placeholder="Player #" ng-model="player.player_id">
            <input ng-if='queues.length > 0'  ng-disabled='true' type="tel" placeholder="Player #" ng-model="queues[0].player.player_id">
          </form>
        </label>
        <div class='item'>
          <!--<div ng-if='queues.length ==0'>&nbsp;{{selected_players[0].first_name}} {{selected_players[0].last_name}}</div>-->
          <div ng-if='queues.length ==0'>&nbsp;{{selected_players[0].full_name}}</div>
          
          <div ng-if='queues.length > 0' >{{queues[0].player.player_name}}</div>          
        </div>
      </div>
      <div style='text-align:center' class='item'>
        {{division_machine_name}}
      </div>
      <button ng-disabled='selected_players.length == 0 || selected_players[0].has_tokens != true || selected_players[0].on_division_machine' ng-if="queues.length == 0" ng-click='test_submit()' class='button button-calm button-full item-icon-right seperate_button'>
        Select Player
        <i class="icon ion-chevron-right"></i>          
      </button>
      
      <button ng-if="queues.length > 0" class="seperate_button button button-calm button-full item-icon-right" ui-sref=".process({process_step:{process:true}, player_info:queues[0].player,from_queue:1})">
        Start Player On Machine
        <i class="icon ion-chevron-right"></i>          
      </button>
      <button ng-if="queues.length > 0" class="seperate_button button button-calm button-full item-icon-right" ng-click="testChange()">
        Next Player In Queue
        <i class="icon ion-chevron-right"></i>                 
      </button>
    </div>
    
    <div class='player-info-avatar'>
      <img src="{{http_prefix}}://www.clker.com/cliparts/Z/Z/S/Y/S/w/red-circle-cross-transparent-background-hi.png" class='avatar-frame sample-show-hide sample-show-hide-front avatar-user-pic' ng-show='selected_players.length == 0 && poop == true'>
      <img ng-show='selected_players.length == 1' class='avatar-frame sample-show-hide sample-show-hide-back avatar-user-pic' src="{{http_prefix}}://{{server_ip_address}}/pics/player_{{player_img_id}}.jpg">
      <img ng-show='selected_players.length == 0 && poop == undefined' class='avatar-frame sample-show-hide sample-show-hide-front avatar-user-pic' style='background-color:white'>
    </div>
    <div style='z-index:4' class='machine-info-avatar'>
      <img class='avatar-frame avatar-user-pic' src="{{http_prefix}}://{{server_ip_address}}/pics/machine_{{division_machine_id}}.jpg">
    </div>
  </ion-content>
</ion-view>

