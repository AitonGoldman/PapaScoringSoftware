<!--
  Generated template for the ResultsTournamentPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
  -->
<ion-header>
  <ion-navbar>
    <custom-headers [homePageDisplayName]="getHomePageDisplayString()" [eventId]="eventId" [eventName]="eventName" [homePage]="getHomePageString()"></custom-headers>
  </ion-navbar>
</ion-header>

<ion-content>
  <div text-center tappable>
    <h2>{{tournamentName}} Results 2</h2>
    <ion-icon (tap)="onReload()" style="zoom:2.0" item-end name="refresh"></ion-icon>    
  </div>

  <ion-grid [style.width]='width' [style.margin]="'auto'" *ngIf="results != null">
    <ion-row>
      <ion-col col-2 col-md-1 no-padding text-center>
        Rank
      </ion-col>
      <ion-col col-8 col-md-5 no-padding text-center>
        Name
      </ion-col>
      <ion-col col-2 col-md-5 no-padding text-center>
        <span>Top 3 <span hideWhen="mobile">machines</span></span>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <hr>
      </ion-col>
    </ion-row>
    <ion-row  nowrap *ngFor="let result of results;even as e;index as i" align-items-center [style.background-color]="e==true?'grey':null">
      <ng-container *ngIf="result.seperator==true">
        <ion-col text-center style='background-color:#CCCCCC'>
          {{result.seperator_message}}
        </ion-col>
      </ng-container>
      <ng-container *ngIf="result.seperator==false">
      <ion-col col-2 col-md-1 no-padding text-center align-self-center>
        {{result.rank}}<span style='font-size:8px'><p style='line-height:1px'>({{result.points}} points)</p></span>
        <!--<ion-icon *ngIf="result.show_icon==true" item-end name="git-branch"></ion-icon>-->
      </ion-col>
      <ion-col col-6 col-md-5 no-padding text-center align-self-center>
        {{result.player_name}}
      </ion-col>
      <ion-col col-4 col-md-5 no-padding text-center align-self-center (tap)="showTopThreeMachines($event,result.top_machines)">
        {{result.topMachineString}}
        <!--<a showWhen="mobile" (tap)="showTopThreeMachines($event,result.top_machines)">Top 3</a>-->
          <!-- <span *ngFor="let top_machine of result.top_machines;index as i" (tap)="showTopThreeMachines($event,result.top_machines)"> -->
          <!--   <\!--<span *ngIf='i>0'>,</span>-\-> -->
          <!--   #{{top_machine.rank}} on {{top_machine.abbreviation}} -->
          <!-- </span> -->
          <!--<button ion-button clear tappable showWhen="mobile"  (tap)="showTopThreeMachines($event,result.top_machines)">-->
      </ion-col>
      </ng-container>
    </ion-row>
    <ion-row>
      <ion-col>
        <button ion-button (click)="onBump()">
          bump
        </button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
