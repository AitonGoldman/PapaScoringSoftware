<ion-view view-title="{{resources.divisions.data[current_division_id].tournament_name}}">
<div class="bar bar-subheader">
    <table class='results_table_machine' style='width:100%'>
      <tr>
        <th align="center" style='text-align:left;'><b>Rank</b></th>
        <th align="center" style='text-align:left;'><b>Player</b></th>
        <th align="center" style='text-align:left;'><b>Points</b></th>
        <th align="center" style='text-align:left;'><b>Top 3</b></th>
      </tr>
    </table>
</div>    
  
<ion-content>
    <div style='text-align:center;' class='standard_large_font padding-top padding-bottom'>

<!--      <select ng-change="jump_to_machine_results()" ng-model='jump_to_division_machine.data' ng-options='machine as machine.division_machine_name for machine in resources.division_machines.data'>
        
          </select>-->
<br>
<br>
    </div>
    <div style='text-align:center;' class='standard_large_font padding-top padding-bottom'>
      <b>
        {{resources.divisions.data[current_division_id].tournament_name}}
      </b>
    </div>
    <table class='results_table_machine' style='width:100%'>
      <tr ng-if='team_division==true' ng-repeat='result in concat_results' >         
        <td ng-if='result[1].divider == undefined' style='padding-top:10px;align='center'>{{result[0]+1}}</td>
  
        <td ng-if='result[1].divider == undefined' style='padding-left:50px;padding-top:10px;' align='center'>
          <a  ui-sref='.^.^.players.player({player_id:result[1].player_id,player_name:result[1].player_name})'>
            <span>{{result[1].team_name}}</span>
          </a>
        </td>
        <td ng-if='result[1].divider == undefined' style='padding-left:50px;padding-top:10px;' align='center'>{{result[1].sum}}</td>
        <td ng-if='result[1].divider == undefined' style='padding-left:50px;padding-top:10px;' align='center' class='mobile-hide'>
          <span ng-if='team_division==true' ng-repeat='top_player_machine in resources.division_results.data.top_machines[current_division_id][result[1].team_id]|limitTo:3'>          
            <a ng-if='team_division==true' ui-sref='app.results.division_machines.machines.machine({division_machine_name:top_player_machine.machine_name,division_id:current_division_id,division_machine_id:top_player_machine.division_machine_id})'>{{top_player_machine.machine_abbreviation}}({{top_player_machine.rank}})</a>          
            <span ng-if='$last == false'> | </span>             
          </span>        
        </td>
        <td  style='background-color:yellow' ng-if='result[1].divider != undefined' colspan=4>
          <center>
            {{result[1].divider}}
          </center>
        </td>
      </tr>
      <!--<tr ng-if='team_division==false' ng-class='{red:check_player_is_ifpa_limited(result[1])}' ng-repeat='result in resources.division_results.data.ranked_player_list[division_id]' >-->        
      <tr ng-if='team_division==false' ng-class='{red:check_player_is_ifpa_limited(result[1])}' ng-repeat='result in concat_results|limitTo:cur_num_results_displayed' >        
        <td ng-if='result[1].divider == undefined'   style='padding-top:10px;' align='center'>{{result[0]+1}}</td>        
        <td  ng-if='result[1].divider == undefined' style='padding-left:50px;padding-top:10px;'  align='center'>
          <a  ui-sref='.^.^.players.player({player_id:result[1].player_id,player_name:result[1].player_name})'>
            <span >{{result[1].player_name}}</span>
          </a>
        </td>
        <td  ng-if='result[1].divider == undefined' style='padding-left:50px;padding-top:10px;'  align='center'>{{result[1].sum}}</td>
        <td  ng-if='result[1].divider == undefined'  style='padding-left:50px;padding-top:10px;' class='mobile-hide'  align='center'>
          <span ng-if='team_division==false' ng-repeat='top_player_machine in resources.division_results.data.top_machines[current_division_id][result[1].player_id]|limitTo:3'>
            <a ng-if='team_division==false' ui-sref='app.results.division_machines.machines.machine({division_machine_name:top_player_machine.machine_name,division_id:current_division_id,division_machine_id:top_player_machine.division_machine_id})'>{{top_player_machine.machine_abbreviation}}({{top_player_machine.rank}})</a>          
            <span ng-if='$last == false'> | </span>             
          </span>        
        </td>
        <td   style='background-color:yellow'  ng-if='result[1].divider != undefined' colspan=4>
          <center>
            {{result[1].divider}}
          </center>
        </td>
      </tr>      
    </table>
    <ion-infinite-scroll
       on-infinite="loadMore()"
       distance="1%">
    </ion-infinite-scroll>    
    
    <!-- <center> -->
    <!--   <span class='big-spinner'> -->
    <!--     <ion-spinner></ion-spinner> -->
    <!--   </span> -->
    <!-- </center> -->

    <!-- <ion-infinite-scroll -->
    <!--    on-infinite="loadMore()" -->
    <!--    distance="1%"> -->
    <!-- </ion-infinite-scroll>     -->
    
    <!-- <ion-infinite-scroll -->
    <!--    immediate-check="false" -->
    <!--    ng-if="filter_limit < 150" -->
    <!--    on-infinite="loadMore()" -->
    <!--    distance="1%"> -->
    <!-- </ion-infinite-scroll>     -->
  </ion-content>
</ion-view>

