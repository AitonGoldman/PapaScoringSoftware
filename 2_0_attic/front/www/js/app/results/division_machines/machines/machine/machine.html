<ion-view view-title="Results">
  <ion-content>      
    <ion-refresher
       pulling-text="Pull to refresh..."
       on-pulling="doRefresh()"
       on-refresh="doneRefresh()"
       spinner="none">
    </ion-refresher>    

    <div style='width:100%;text-align:center;white-space: nowrap;overflow: hidden; text-overflow: ellipsis;' class='standard_large_font padding-top padding-bottom'>
<!--      <select ng-change="jump_to_machine_results()" ng-model='jump_to_division_machine.data' ng-options='machine as machine.division_machine_name for machine in resources.division_machines.data'>
        
          </select>-->
      <b>
        {{division_machine_name}}
      </b>
    </div>
      <div class="mobile-show-vertical-only">
        <center>Swipe down to reload results</center>
      </div>
    
    <table class='results_table_machine' style='margin-left:auto;margin-right:auto;'>
      <tr>
        <th><b>Rank</b></th>
        <th style='padding-left:25px'><b>Player</b></th>
        <th style='padding-left:25px'><b>Points</b></th>
        <th style='padding-left:25px'><b>Score</b></th>
      </tr>
      <tr ng-repeat='result in resources.division_machine_results.data|limitTo:filter_limit' ng-class='{lightgrey:$even}'>
        <td style='padding-top:10px;vertical-align:middle' align='center'>{{result.rank}}</td>
        <td style='padding-left:5px;padding-top:10px;vertical-align:middle' align='center'>
          <span ng-if='team_tournament==false'>
          <a ui-sref='.^.^.^.players.player({player_id:result.player_id,player_name:result.player_name})'>
            {{result.player_name}}

          </a>
          </span>
          <span ng-if='team_tournament==true'>
            {{result.team_name}}
          </span>
        </td>
        <td align='center' style='padding-left:5px;padding-top:10px;vertical-align:middle'>{{result.points}}</td>
        <td align='center' style='padding-left:5px;padding-top:10px;vertical-align:middle'>{{result.score|number}}</td>
      </tr>
      <td align=center colspan=4 ng-if='filter_limit<resources.division_machine_results.data.length'>          
          <div ng-click='increase_display_window()' class='item item-icon-right item-icon-left' style='margin-top:0px'>
            <i class="icon"></i>
            <u>Show More Results</u>
            <i class="icon  ion-chevron-down"></i>
          </div>
      </td>

    </table>
  </ion-content>
</ion-view>

