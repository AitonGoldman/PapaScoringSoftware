<!--
    Generated template for the LoginPage page.

    See http://ionicframework.com/docs/components/#navigation for more info on
    Ionic pages and navigation.
  -->

<ion-header>
  <ion-navbar color='pss-quick-links-header'>
    <ion-title>
      {{eventName}}
    </ion-title>
  </ion-navbar>
</ion-header>
<ion-content no-padding no-margin class="card-background-page">
 <ion-toolbar no-padding no-margin color="pss-quick-links-sub-header" text-center>
   <b>Login</b>
 </ion-toolbar>

 <div margin [style.width]="contentWidth" style='margin-left:auto;margin-right:auto'>
  <ion-segment [(ngModel)]="loginType">
    <ion-segment-button value="player">
      <ion-icon item-start name="person"></ion-icon> Tournament Player
    </ion-segment-button>
    <ion-segment-button value="official">
            <ion-icon item-start name="clipboard"></ion-icon> Tournament Official
    </ion-segment-button>
  </ion-segment>
  </div>
  <ng-container [ngSwitch]="loginType">
    <form #loginForm="ngForm" *ngSwitchCase="'official'" [style.width]="contentWidth" style='margin-left:auto;margin-right:auto'>
      <ion-item>
        <ion-label stacked>Username</ion-label>
        <ion-input type="text" required
                   [(ngModel)]="loginInfo.username" name="username"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label stacked>Password</ion-label>
        <ion-input type="text" required
                   [(ngModel)]="loginInfo.password" name="password"></ion-input>
      </ion-item>
      <ion-item no-lines>
        <button [disabled]='!loginForm.valid' ion-button default (tap)="loginUser()">Login </button>
      </ion-item>
    </form>
    <form #playerLoginForm="ngForm" *ngSwitchCase="'player'" [style.width]="contentWidth" style='margin-left:auto;margin-right:auto'>
      <ion-item>
        <ion-label stacked>Player Number</ion-label>
        <ion-input type="number" required
                   [(ngModel)]="loginInfo.player_id_for_event" name="player_id_for_event"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label stacked>Pin</ion-label>
        <ion-input type="number" required
                   [(ngModel)]="loginInfo.player_pin" name="player_pin"></ion-input>
      </ion-item>
      <ion-item no-lines>
        <button [disabled]='!playerLoginForm.valid' ion-button default tappable (click)="loginPlayer()">Login </button>
      </ion-item>
    </form>
    
  </ng-container>
<!--  <ng-container *ngIf='loginType=="player"'>
  </ng-container>-->
  
</ion-content>
